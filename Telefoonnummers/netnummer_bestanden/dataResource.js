LMI.Strings=(function(){var A=LMI.Data.strings,B=LMI.Data.strings_debug;return{setString:function(C,D){A[C]=D},setStrings:function(C){A=C},setDebug:function(C){B=C},getString:function(E){var D,C,F="";if(E in A){F=A[E];C=arguments.length;for(D=1;D<C;++D){F=F.replace(new RegExp("{"+(D-1)+"\\}","g"),arguments[D])}}else{if(B){F="Unknown Message Key: '"+E+"'"}}return F}}})();LMI.MinEvents=(function(){var C={63232:38,63233:40,63234:37,63235:39,63273:36,63275:35,63276:33,63277:34};function E(I,H,J){if(I.addEventListener){I.addEventListener(H,J,false)}else{if(I.attachEvent){I.attachEvent("on"+H,J)}else{throw new Error("addEvent: unsupported browser")}}}function G(I,H,J){if(I.removeEventListener){I.removeEventListener(H,J,false)}else{if(I.detachEvent){I.detachEvent("on"+H,J)}else{throw new Error("removeEvent: unsupported browser")}}}function B(H){var I;if(window.onload){I=window.onload}window.onload=function(){if(typeof I==="function"){I()}H()}}function D(H){if(H.stopPropagation){H.stopPropagation()}else{H.cancelBubble=true}if(H.preventDefault){H.preventDefault()}else{H.returnValue=false}}function A(I){var H=0,J=I.charCode;if(J>60000&&(J in C)){H=C[J]}else{if(!J){H=I.keyCode}}return H}function F(J,I){var H=J.target||J.srcElement;I=I.toUpperCase();while(H&&H.nodeName!==I){H=H.parentNode}return H}return{on:E,addEvent:E,addWindowLoadEvent:B,stopEvent:D,getKeyCode:A,findTarget:F,removeEvent:G}})();(function(){var E=LMI.MinEvents,I=document.getElementById("loginLinksTrigger"),K=document.getElementById("loginLinks"),D=document.getElementById("myPlacesTrigger"),G=document.getElementById("myPlacesLinks"),C={},B;function H(N){var M="javascript",L;if(!C[N.id]){C[N.id]=document.createElement("iframe");C[N.id].src=M+":void(0)";N.parentNode.appendChild(C[N.id])}L=C[N.id].style;L.position="absolute";L.border="0";L.background="transparent";L.top=N.offsetTop+"px";L.left=N.offsetLeft+"px";L.width=N.offsetWidth+"px";L.height=N.offsetHeight+"px";L.zIndex=99;C[N.id].className=C[N.id].className.replace(/\bhidden\b/g,"")}function F(){var L;if(K){K.className+=" hidden"}if(G){G.className+=" hidden"}for(L in C){if(C[L]){C[L].className+=" hidden"}}}function J(M){E.stopEvent(M);var L=E.findTarget(M,"a"),N;if(L.id==="loginLinksTrigger"){N=K}else{N=G}N.className=N.className.replace(/\bhidden\b/g,"");H(N);if(!B){B=F;E.on(document,"click",B)}E.on(N,"click",function(O){var Q=O||window.event,P=E.findTarget(Q,"a");if(!P){E.stopEvent(Q)}})}function A(){if(I&&K){F();E.on(I,"click",J)}if(D&&G){F();E.on(D,"click",J)}}A()})();LMI.CssClasses=(function(){function A(F,E){if(!F){return false}var D=F.className;return(D&&D.match("\\b"+E+"\\b")==E)}function B(G,E){var D=arguments,F=1;for(;F<D.length;++F){if(!A(G,D[F])){G.className=(G.className?G.className+" "+D[F]:D[F])}}}function C(E,D){E.className=E.className.replace(new RegExp("\\b"+D+"\\b"),"")}return{hasClass:A,addClass:B,removeClass:C}})();LMI.SearchForm=(function(){var J=LMI.MinEvents,O=LMI.Strings.getString,F=false;function Q(R){return document.getElementById(R)}function A(S){var R=Q(S);return R&&R.id===S}function I(){var S=document.createElement("div"),R=document.createElement("strong");S.className="LMIMessages tip";R.appendChild(document.createTextNode(O("js.dropdown.tip")));S.appendChild(R);R=document.createElement("span");R.appendChild(document.createTextNode(O("js.dropdown.tip.text")));S.appendChild(R);return S}function G(R,S,T){return function(U){var V=U||window.event;J.stopEvent(V);(document.createElement("img")).src=T+"?noresponse=1";R.clearSection("recent")}}function M(R,T){var S=document.createElement("a");S.href="#";J.on(S,"click",G(R,S,T));S.appendChild(document.createTextNode(O("js.dropdown.clear")));return S}function L(S,R){for(var T in R){if(!(T in S)){S[T]=R[T]}}}function N(W,U){var S,V,R,T;U=U||{};L(U,{suggest:true,recent:true,tip:true});if(A(W)){if(document.getElementById(W).className.indexOf("formError")===-1){U.arrowSrc=LMI.Data.Urls.ddArrow}else{U.arrowSrc=LMI.Data.Urls.ddArrowError}V=new LMI.DropDown(W,U);if(U.suggest){V.addSection("suggest",O("js.dropdown.suggestions"));V.addModule((new LMI.DropDown.Suggest()).getModule())}if(U.recent){R=M(V,LMI.Data.Urls.removeSearches);T=LMI.Data.recentSearches;V.addSection("recent",O("js.titles.recent"),{hint:R});if(T){for(S in T){if(T.hasOwnProperty(S)&&T[S].searchTerms){V.addItem(T[S].searchTerms,"recent")}}}}if(U.tip){V.menu.appendChild(I())}J.addWindowLoadEvent(function(){V.positionArrow()})}}function E(T,S){var V,Y,W,X,Z,b,U,R=LMI.Data;S=S||{};L(S,{suggest:true,recent:true,saved:true,tip:false,suggestUrl:LMI.Data.Urls.whereSuggest});if(A(T)){if(document.getElementById(T).className.indexOf("formError")===-1){S.arrowSrc=LMI.Data.Urls.ddArrow}else{S.arrowSrc=LMI.Data.Urls.ddArrowError}W=new LMI.DropDown(T,S);if(S.suggest){X=new LMI.DropDown.Suggest();X.suggestUrl=S.suggestUrl;W.addSection("suggest",O("js.dropdown.suggestions"));W.addModule(X.getModule())}if(S.recent){U=R.recentLocations;Z=M(W,R.Urls.removeLocations);W.addSection("recent",O("js.titles.recentlocs"),{hint:Z});if(U){for(V in U){if(U.hasOwnProperty(V)&&U[V].locationValue!==""){W.addItem(U[V].locationValue,"recent")}}}}if(S.saved){b=R.state.visitorVO;if(!b.loggedInVisitor){Z=document.createElement("p");Z.className="signin";Z.innerHTML=O("js.dropdown.where.sign.in",R.Urls.signin);W.menu.appendChild(Z)}else{if(b.savedLocations&&b.savedLocations.length){W.addSection("saved",O("js.titles.saved"));for(V=0,Y=b.savedLocations.length;V<Y;++V){W.addItem(b.savedLocations[V].locationName,"saved")}}}}if(S.tip){W.menu.appendChild(I())}J.addWindowLoadEvent(function(){W.positionArrow()})}}function P(R,V,W){var U,X,S=[],T;W=W?W:document;if(!R){return null}if(V){X=new RegExp(V)}U=W.getElementsByTagName(R);for(T=0;T<U.length;T++){if(!V||U[T].className.match(X)!==null){S.push(U[T])}}return S}function D(S){var U=S||window.event,W=Q("locationWithCountry"),V=Q("searchFields"),T=U.srcElement?U.srcElement:U.target,R;if(W.className.indexOf("hidden")>-1){W.className=W.className.replace(/hidden/g,"");V.className+=" hidden";T.innerHTML=O("js.header.hide.country");R=LMI.DropDown.getById("cityWithCountry");if(R){R.positionArrow()}F=true}else{W.className+=" hidden";V.className=V.className.replace(/hidden/g,"");T.innerHTML=O("js.header.show.country");R=LMI.DropDown.getById("where");if(R){R.positionArrow()}F=false}J.stopEvent(U)}function K(R){var T=LMI.Data.baseUrl.split(";"),S=T[0].replace(/\/$/,""),U=T[1];return S+R+(U?";"+U:"")}function H(U,S,X){var T,R,W,Y=[],V=Q("topSearchForm");if(U==="sellers"){return K(O("js.url.product.search.sellers",S||"-",X||"-"))}else{if(U==="map"){T=LMI.MapSearchSize.getDimensions();R=K(O("js.url.find.businesses.results",X,S+"?mapWidth="+T.x+"&mapHeight="+T.y))}else{R=K(O("js.url.search",(S?"plaats-"+S:"-"),(X?"w-"+X:"-")));if(V.distance&&!V.distance.disabled&&V.distance.value!=="0"){Y.push("distance="+V.distance.value)}if(V.regionSearch&&!V.regionSearch.disabled&&V.regionSearch.value==="true"){Y.push("regionSearch=true")}if(Y.length){R+="?"+Y.join("&")}}}return R}function C(W){var S=P("div","searchForm")[0],T,c=Q("activeMapTab"),b,U,R,X="",V="",d,a,Z,Y="";J.stopEvent(W);if(S){R=S.getElementsByTagName("form")[0];d=R.where;if(d&&d.value&&!d.className.match(/hintText/)){X=d.value}if("what" in R&&R.what.value.length>0){V=R.what.value}V=encodeURIComponent(V);X=encodeURIComponent(X);if(document.body.id==="findOnMap"&&c.value==="location"){U=LMI.MapSearchSize.getDimensions();T=K(O("js.url.map.location"));F=(Q("locationWithCountry").className.indexOf("hidden")>-1)?false:true;if(F){a=Q("streetWithCountry").value;b=Q("countryWithCountry");T+=encodeURIComponent(b.options[b.selectedIndex].value)+"/"+encodeURIComponent(Q("cityWithCountry").value||"-")+"/";if(a!==""){T+=encodeURIComponent(a)+"/"}}else{T+=X+"/"}}else{if(document.body.id==="browseMap"||(document.body.id==="findOnMap"&&c.value==="business")){U=LMI.MapSearchSize.getDimensions();T=K("/mapsearch.ds")+"?newSearch=true&tab=business&listingType="+(Q("st_b").checked?"YELLOW":Q("st_p").checked?"WHITE":"");if(!X&&LMI.MapSearch&&LMI.Data.whereDefaultsToBoundingBox){T+="&what="+V+"&"+LMI.MapSearchSize.getBoundingBoxUrlParams()}else{T+="&what="+V+"&where="+X+"&mapWidth="+U.x+"&mapHeight="+U.y;if(LMI.MapSearch){T+="&mapLevel="+LMI.MapSearch.getMap().zoomLevel}}}else{if(R.action.indexOf("finddirections.ds")>-1){R.action+="?tab=directions";R.method="POST";R.submit();return }else{if(document.body.id==="webSearch"){R.submit();return }else{if(LMI.Data.pageType==="PRODUCT"&&"productSearchType" in R&&R.productSearchType.value==="BUSINESS"){Y="sellers"}Z=H(Y,X,V);if(S.className.match(/\bradiusSearch\b/)&&R.distance.value>0&&X!==""){Z+="?distance="+R.distance.value}T=Z}}}}window.location.href=T}}function B(){var R=Q("searchFormSubmit")?Q("searchFormSubmit"):false,U=Q("topSearchForm")?Q("topSearchForm"):false,T=LMI.SearchForm.searchFormSubmitHandler,S=P("a","showCountry")[0];if(R){J.on(R,"click",T)}if(U){J.on(U,"submit",T)}if(S){J.on(S,"click",D)}}if("Init" in LMI){LMI.Init.addFunction(B)}else{J.addWindowLoadEvent(B)}return{createWhatDropDown:N,createWhereDropDown:E,searchFormSubmitHandler:C,getUrl:K}})();(function(){var O=LMI.MinEvents,E=LMI.Strings.getString,K=LMI.Data.Urls.whereSuggest,D,R,P,Q,N,L,I,M,J,A;function C(S){return document.getElementById(S)}function G(S,W,X){var V,Y,T=[],U;X=X?X:document;if(!S){return null}if(W){Y=new RegExp(W)}V=X.getElementsByTagName(S);for(U=0;U<V.length;U++){if(!W||V[U].className.match(Y)!==null){T.push(V[U])}}return T}function B(){R=document.getElementById("entireRegion");if(R.value==="true"){R.value="false"}}D=C("where");if(D!==null){O.on(D,"keydown",B)}if(!LMI.Data.isFromExternalDomain){if(document.body.id!=="webSearch"){LMI.SearchForm.createWhatDropDown("what",{suggest:(LMI.Data.pageType!=="WHITE")})}LMI.SearchForm.createWhereDropDown("where",{suggest:true,suggestUrl:K,tip:E("js.dropdown.where.tip.text"),saved:LMI.Data.mywwwEnabled})}Q=document.getElementById("chooseRegionLink");if(Q){Q.href=LMI.Data.baseUrl.replace(/;.*/,"").replace(/\/$/,"")+"/searchformregions_"+(LMI.Data.pageType==="WHITE"?"white":"yellow")+".ds";L=new LMI.SearchForm.Popup(Q,"regionPopup");L.addCallback(function(U){var T=C("where"),S=C("entireRegion");if(T){if(U==="Heel Nederland"){U="Nederland"}T.value=U}if(S&&U.length>0){S.value="true"}L.hide()})}N=document.getElementById("chooseCategoryLink");if(N){A=document.getElementById("productResultsType");if(document.body.className.indexOf("PRODUCT")>-1){A={value:"product"}}M=LMI.Data.baseUrl.replace(/;.*/,"").replace(/\/$/,"");if(LMI.Data.pageType==="PRODUCT"){M+="/searchformproductcategories.ds?pageType=PRODUCT&"}else{M+="/searchformcategories.ds?"}M+="letter=A&locale="+LMI.Data.locale;N.href=M;I=new LMI.SearchForm.Popup(N,"categoryPopup");I.addCallback(function(T){var S=C("what");if(S){if(A!==undefined&&A!==null){S.value=E("js.where."+A.value+".prefix")+'"'+T+'"'}else{S.value=E("js.where.category.prefix")+'"'+T+'"'}}I.hide()})}function H(W){W=W||window.event;var S=LMI.MinEvents.findTarget(W,"a"),U=LMI.MinEvents.findTarget(W,"form"),V=C("entireRegion"),T=G("div","wwwCont",U)[0];if(/openProximity/.test(S.className)){LMI.CssClasses.addClass(T,"proximitySearch");if(V){V.disabled=true}}else{LMI.CssClasses.removeClass(T,"proximitySearch");U.distance.value=0;if(V){V.disabled=false}C("radius").selectedIndex=0}}function F(){var U=C("topSearchForm"),S=G("a","openProximity",U),T=G("a","removeRadius",U);if(S&&S[0]){O.on(S[0],"click",H)}if(T&&T[0]){O.on(T[0],"click",H)}}F()})();

